@using CaloriesCatcher.UI.Service.IService;
@using CaloriesCatcher.UI.Service
<AuthorizeView>
    <Authorized>
        <MudNavMenu>
            <MudNavLink Href="/" Match="NavLinkMatch.All">Dashboard</MudNavLink>
            <MudNavLink Href="/about" Match="NavLinkMatch.All">About</MudNavLink>
            <MudNavGroup Title="User" Expanded="true">
                <MudNavLink Href="/profile" Match="NavLinkMatch.Prefix">Profile</MudNavLink>
                <MudNavLink OnClick="Logout" Match="NavLinkMatch.Prefix">Logout</MudNavLink>
            </MudNavGroup>
        </MudNavMenu>
    </Authorized>
</AuthorizeView>


@code {
    [Inject]private NavigationManager navigationManager { get; set; } = default!;
    [Inject]AuthenticationStateProvider authenticationStateProvider { get; set; } = default!;
    private async Task Logout()
    {
        var customAuthenticationStateProvider = (CustomAuthenticationStateProvider)authenticationStateProvider;
        await customAuthenticationStateProvider.UpdateAuthenticationState(null);
        navigationManager.NavigateTo("/", true);
    }
}